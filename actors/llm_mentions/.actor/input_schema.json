{
    "title": "LLM Mentions Auditor",
    "description": "Generate localized commercial prompts, run them across multiple LLMs with repetitions, detect brand mentions by name and URL, and output a coverage matrix.",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
        "urls": {
            "title": "Company URLs",
            "type": "array",
            "description": "List of company homepage URLs to seed brand normalization (e.g., https://example.com).",
            "editor": "stringList",
            "prefill": [
                "https://www.mapfre.es"
            ]
        },
        "expand_competitors": {
            "title": "Expand competitors",
            "type": "boolean",
            "description": "If true, adds a few heuristic competitor brands for comparison.",
            "editor": "checkbox",
            "default": true
        },
        "sector": {
            "title": "Sector",
            "type": "string",
            "description": "Industry or sector context for prompt generation (e.g., insurance, banking).",
            "editor": "textfield",
            "default": "insurance"
        },
        "market": {
            "title": "Market",
            "type": "string",
            "description": "Geographic market focus for prompts (e.g., Spain, Germany).",
            "editor": "textfield",
            "default": "Spain"
        },
        "language": {
            "title": "Language (BCP-47)",
            "type": "string",
            "description": "Prompt language as BCP-47 tag (e.g., es-ES, en-US).",
            "editor": "textfield",
            "default": "es-ES"
        },
        "n_prompts": {
            "title": "Commercial queries to generate",
            "type": "integer",
            "minimum": 1,
            "maximum": 200,
            "description": "Number of localized commercial-intent prompts to generate.",
            "editor": "number",
            "default": 30
        },
        "prompts_include_competitors": {
            "title": "Include competitors in prompts",
            "type": "string",
            "enum": ["always", "sometimes", "never"],
            "description": "Whether prompts should explicitly mention competitor brands: always, sometimes (default), or never.",
            "editor": "select",
            "default": "sometimes"
        },
        "llms": {
            "title": "Target LLMs",
            "type": "array",
            "editor": "stringList",
            "description": "Identifiers like openai:gpt-4.1-mini, openai:gpt-5-chat, google:gemini-2.5-pro",
            "default": [
                "google:gemini-2.5-flash",
                "google:gemini-2.5-pro",
                "openai:gpt-5"
            ]
        },
        "repetitions": {
            "title": "Repetitions per LLM",
            "type": "integer",
            "minimum": 1,
            "maximum": 10,
            "description": "How many times to run each prompt per LLM for stability checks.",
            "editor": "number",
            "default": 5
        },
        "brand_overrides": {
            "title": "Brand overrides",
            "type": "array",
            "description": "Optional overrides to add brand aliases or domains.",
            "editor": "json",
            "items": {
                "type": "object",
                "properties": {
                    "brand": { "title": "Brand", "type": "string", "description": "Canonical brand name to override or add.", "editor": "textfield" },
                    "aliases": { "title": "Aliases", "type": "array", "description": "Optional brand aliases for name-based mention detection.", "editor": "stringList", "items": { "type": "string" } },
                    "domains": { "title": "Domains", "type": "array", "description": "Domain hosts used for URL-based mention detection (e.g., example.com).", "editor": "stringList", "items": { "type": "string" } }
                },
                "required": ["brand"]
            }
        },
        "max_competitors": {
            "title": "Max competitors",
            "type": "integer",
            "description": "Maximum number of competitors to include when expansion is enabled.",
            "editor": "number",
            "default": 12
        },
        "random_seed": {
            "title": "Random seed",
            "type": "integer",
            "description": "Deterministic seed for prompt generation and sampling.",
            "editor": "number",
            "default": 42
        },
        "timeouts_sec": {
            "title": "Timeouts",
            "type": "object",
            "description": "Per-operation timeouts in seconds for LLM calls and search.",
            "editor": "json",
            "properties": {
                "llm_call": { "title": "LLM call timeout (sec)", "type": "integer", "description": "Timeout for a single LLM call (seconds).", "editor": "number" },
                "search": { "title": "Search timeout (sec)", "type": "integer", "description": "Timeout for auxiliary search operations (seconds).", "editor": "number" }
            },
            "default": { "llm_call": 45, "search": 30 }
        }
    },
    "required": [
        "urls",
        "n_prompts",
        "llms",
        "repetitions"
    ]
}


